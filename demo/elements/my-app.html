<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="../../poly-storex-mixin.html">
<link rel="import" href="./my-comp-one.html">
<link rel="import" href="./my-comp-two.html">

<dom-module id="my-app">
    <template>
        <my-comp-one></my-comp-one>
        <my-comp-two></my-comp-two>
        <button on-click="showModule">Next</button>
    </template>
    <script src="mutations.js"></script>
    <script>
      /**
       * `my-app`
       * App example
       *
       * @customElement
       * @polymer
       * @demo demo/index.html
       */
      class MyApp extends PolyStorexMixin(Polymer.Element, 'my-app') {
        static get is() { return 'my-app'; }
        static get properties () {}
        connectedCallback () {
          super.connectedCallback();
          this.mutations = GenericMutations;
          this.commit('initStates');
        }
        showModule (e) {
          this.commit('strategyVisibility', {
            visible: this.state.visibility.next
          });
        }
      }
      window.customElements.define(MyApp.is, MyApp);
    </script>
</dom-module>